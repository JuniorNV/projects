EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text Notes 1200 3650 0    50   ~ 0
https://electronics.stackexchange.com/questions/141780/turning-a-torch-on-or-off-using-a-single-mini-switch/152909#152909
$Comp
L Device:Battery_Cell BT1
U 1 1 5E555EC0
P 1050 1850
F 0 "BT1" H 1168 1946 50  0000 L CNN
F 1 "CR1216" H 1168 1855 50  0000 L CNN
F 2 "touchled:Battery_CR1225" V 1050 1910 50  0001 C CNN
F 3 "~" V 1050 1910 50  0001 C CNN
	1    1050 1850
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 5E556662
P 2250 2200
F 0 "#PWR0103" H 2250 1950 50  0001 C CNN
F 1 "GND" H 2255 2027 50  0000 C CNN
F 2 "" H 2250 2200 50  0001 C CNN
F 3 "" H 2250 2200 50  0001 C CNN
	1    2250 2200
	1    0    0    -1  
$EndComp
$Comp
L power:VCC #PWR0104
U 1 1 5E556DB6
P 2500 1400
F 0 "#PWR0104" H 2500 1250 50  0001 C CNN
F 1 "VCC" H 2517 1573 50  0000 C CNN
F 2 "" H 2500 1400 50  0001 C CNN
F 3 "" H 2500 1400 50  0001 C CNN
	1    2500 1400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 1650 1050 1550
Text Notes 900  2500 0    50   ~ 0
Reverse polarity protect
Text Notes 8900 1400 0    150  ~ 0
LED array
Wire Wire Line
	9650 4400 9300 4400
Wire Wire Line
	9650 4700 9300 4700
$Comp
L Device:LED D2
U 1 1 5E54FC02
P 9650 4550
F 0 "D2" V 9689 4433 50  0000 R CNN
F 1 "LED" V 9598 4433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 4550 50  0001 C CNN
F 3 "~" H 9650 4550 50  0001 C CNN
	1    9650 4550
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D1
U 1 1 5E54F234
P 9300 4550
F 0 "D1" V 9339 4433 50  0000 R CNN
F 1 "LED" V 9248 4433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 4550 50  0001 C CNN
F 3 "~" H 9300 4550 50  0001 C CNN
	1    9300 4550
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 3900 9300 3900
Wire Wire Line
	9650 4200 9300 4200
$Comp
L Device:LED D3
U 1 1 5E62D66B
P 9300 4050
F 0 "D3" V 9339 3933 50  0000 R CNN
F 1 "LED" V 9248 3933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 4050 50  0001 C CNN
F 3 "~" H 9300 4050 50  0001 C CNN
	1    9300 4050
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 4400 9650 4200
Wire Wire Line
	9650 3400 9300 3400
Wire Wire Line
	9650 3700 9300 3700
$Comp
L Device:LED D6
U 1 1 5E630AA0
P 9650 3550
F 0 "D6" V 9689 3433 50  0000 R CNN
F 1 "LED" V 9598 3433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 3550 50  0001 C CNN
F 3 "~" H 9650 3550 50  0001 C CNN
	1    9650 3550
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D5
U 1 1 5E630AA6
P 9300 3550
F 0 "D5" V 9339 3433 50  0000 R CNN
F 1 "LED" V 9248 3433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 3550 50  0001 C CNN
F 3 "~" H 9300 3550 50  0001 C CNN
	1    9300 3550
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 3900 9650 3700
Wire Wire Line
	9650 2900 9300 2900
Wire Wire Line
	9650 3200 9300 3200
$Comp
L Device:LED D8
U 1 1 5E63234D
P 9650 3050
F 0 "D8" V 9689 2933 50  0000 R CNN
F 1 "LED" V 9598 2933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 3050 50  0001 C CNN
F 3 "~" H 9650 3050 50  0001 C CNN
	1    9650 3050
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D7
U 1 1 5E632353
P 9300 3050
F 0 "D7" V 9339 2933 50  0000 R CNN
F 1 "LED" V 9248 2933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 3050 50  0001 C CNN
F 3 "~" H 9300 3050 50  0001 C CNN
	1    9300 3050
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 3400 9650 3200
Wire Wire Line
	9650 2400 9300 2400
Wire Wire Line
	9650 2700 9300 2700
$Comp
L Device:LED D10
U 1 1 5E635740
P 9650 2550
F 0 "D10" V 9689 2433 50  0000 R CNN
F 1 "LED" V 9598 2433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 2550 50  0001 C CNN
F 3 "~" H 9650 2550 50  0001 C CNN
	1    9650 2550
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D9
U 1 1 5E635746
P 9300 2550
F 0 "D9" V 9339 2433 50  0000 R CNN
F 1 "LED" V 9248 2433 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 2550 50  0001 C CNN
F 3 "~" H 9300 2550 50  0001 C CNN
	1    9300 2550
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 2900 9650 2700
Wire Wire Line
	9650 1900 9300 1900
Wire Wire Line
	9650 2200 9300 2200
$Comp
L Device:LED D12
U 1 1 5E635750
P 9650 2050
F 0 "D12" V 9689 1933 50  0000 R CNN
F 1 "LED" V 9598 1933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 2050 50  0001 C CNN
F 3 "~" H 9650 2050 50  0001 C CNN
	1    9650 2050
	0    1    -1   0   
$EndComp
Wire Wire Line
	9650 2400 9650 2200
Wire Wire Line
	9650 1750 9650 1900
Wire Wire Line
	1050 1950 1050 2100
Wire Wire Line
	2250 1650 2500 1650
Wire Wire Line
	2500 1650 2500 1400
Wire Wire Line
	1500 2100 1050 2100
Wire Wire Line
	1700 1800 1700 1550
Wire Wire Line
	1050 1550 1700 1550
Wire Wire Line
	1850 1550 1700 1550
Connection ~ 1700 1550
Wire Wire Line
	2250 2200 2250 2100
Wire Wire Line
	2250 2100 1900 2100
Text Notes 1000 1150 0    150  ~ 0
Power
$Comp
L touch:AP3019A U1
U 1 1 5E62F45F
P 5250 2300
F 0 "U1" H 4900 2000 50  0000 L CNN
F 1 "AP3019A" H 5400 2000 50  0000 L CNN
F 2 "touchled:SOT-223-6-extraspace" H 5000 2350 50  0001 C CNN
F 3 "" H 5000 2350 50  0001 C CNN
	1    5250 2300
	1    0    0    -1  
$EndComp
Text Notes 6900 2700 0    50   ~ 0
Iout=200mV/R
$Comp
L Device:R R2
U 1 1 5E62F466
P 6600 2700
F 0 "R2" H 6670 2746 50  0000 L CNN
F 1 "220R" H 6670 2655 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric_Pad1.05x0.95mm_HandSolder" V 6530 2700 50  0001 C CNN
F 3 "" H 6600 2700 50  0001 C CNN
	1    6600 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 2950 5250 2700
Wire Wire Line
	5450 1400 5450 1850
$Comp
L Device:C C2
U 1 1 5E62F46E
P 6000 2700
F 0 "C2" H 6115 2746 50  0000 L CNN
F 1 "1uF" H 6115 2655 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 6038 2550 50  0001 C CNN
F 3 "" H 6000 2700 50  0001 C CNN
	1    6000 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 2950 6000 2950
Wire Wire Line
	6000 2850 6000 2950
Connection ~ 6000 2950
Text Label 9650 1750 2    50   ~ 0
LED+
Text Label 6600 1750 0    50   ~ 0
LED-
$Comp
L Device:C C1
U 1 1 5E62F479
P 4450 2700
F 0 "C1" H 4565 2746 50  0000 L CNN
F 1 "1uF" H 4565 2655 50  0000 L CNN
F 2 "Capacitor_SMD:C_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 4488 2550 50  0001 C CNN
F 3 "" H 4450 2700 50  0001 C CNN
	1    4450 2700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4450 2850 4450 2950
Wire Wire Line
	4450 2950 5250 2950
Connection ~ 5250 2950
Wire Wire Line
	4450 2550 4450 2200
$Comp
L Device:L L1
U 1 1 5E62F483
P 4800 1500
F 0 "L1" H 4759 1454 50  0000 R CNN
F 1 "L" H 4759 1545 50  0000 R CNN
F 2 "Inductor_SMD:L_1206_3216Metric_Pad1.42x1.75mm_HandSolder" H 4800 1500 50  0001 C CNN
F 3 "" H 4800 1500 50  0001 C CNN
	1    4800 1500
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4950 1500 5100 1500
Wire Wire Line
	5100 1500 5100 1850
Wire Wire Line
	4650 1500 4450 1500
Wire Wire Line
	4650 2200 4450 2200
Connection ~ 4450 2200
Wire Wire Line
	4450 2200 4450 1500
Text Notes 5000 1200 0    50   ~ 0
Vin=2.5-16V
$Comp
L power:GND #PWR0101
U 1 1 5E62F490
P 5250 3100
F 0 "#PWR0101" H 5250 2850 50  0001 C CNN
F 1 "GND" H 5255 2927 50  0000 C CNN
F 2 "" H 5250 3100 50  0001 C CNN
F 3 "" H 5250 3100 50  0001 C CNN
	1    5250 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	5250 3100 5250 2950
Text Notes 4800 1050 0    118  ~ 0
LED driver
Text Notes 3450 2850 0    50   ~ 0
Shutdown\nCTRL: 0v \nIoff=4uA typ 
Wire Wire Line
	4450 1350 4450 1500
Connection ~ 4450 1500
$Comp
L Device:R R1
U 1 1 5E62F4AD
P 4100 2100
F 0 "R1" H 4170 2146 50  0000 L CNN
F 1 "100k" H 4170 2055 50  0000 L CNN
F 2 "Resistor_SMD:R_1206_3216Metric_Pad1.42x1.75mm_HandSolder" V 4030 2100 50  0001 C CNN
F 3 "" H 4100 2100 50  0001 C CNN
	1    4100 2100
	1    0    0    -1  
$EndComp
Wire Wire Line
	4100 2400 4650 2400
Wire Wire Line
	5450 1400 6000 1400
Wire Wire Line
	6600 2400 5850 2400
Wire Wire Line
	6000 2550 6000 1400
Wire Wire Line
	6600 2950 6600 2850
Wire Wire Line
	6000 2950 6600 2950
Wire Wire Line
	6600 2550 6600 2400
Wire Wire Line
	6600 1450 6600 1400
Wire Wire Line
	6600 1400 6000 1400
Connection ~ 6000 1400
Connection ~ 6600 2400
Text Notes 6950 1850 0    50   ~ 0
FIXME: check pinout
Text Label 6600 1450 0    50   ~ 0
LED+
$Comp
L power:VCC #PWR0102
U 1 1 5E63254F
P 4450 1350
F 0 "#PWR0102" H 4450 1200 50  0001 C CNN
F 1 "VCC" H 4467 1523 50  0000 C CNN
F 2 "" H 4450 1350 50  0001 C CNN
F 3 "" H 4450 1350 50  0001 C CNN
	1    4450 1350
	1    0    0    -1  
$EndComp
$Comp
L Device:LED D4
U 1 1 5E62D661
P 9650 4050
F 0 "D4" V 9689 3933 50  0000 R CNN
F 1 "LED" V 9598 3933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9650 4050 50  0001 C CNN
F 3 "~" H 9650 4050 50  0001 C CNN
	1    9650 4050
	0    1    -1   0   
$EndComp
$Comp
L Device:LED D11
U 1 1 5E635756
P 9300 2050
F 0 "D11" V 9339 1933 50  0000 R CNN
F 1 "LED" V 9248 1933 50  0000 R CNN
F 2 "LED_SMD:LED_0603_1608Metric_Pad1.05x0.95mm_HandSolder" H 9300 2050 50  0001 C CNN
F 3 "~" H 9300 2050 50  0001 C CNN
	1    9300 2050
	0    1    -1   0   
$EndComp
Wire Wire Line
	6600 1750 6600 2400
Wire Wire Line
	4100 1950 4100 1500
Wire Wire Line
	4100 1500 4450 1500
Wire Wire Line
	4100 2250 4100 2400
Wire Wire Line
	9650 5100 9650 4700
Text Label 9650 5100 2    50   ~ 0
LED-
$Comp
L Switch:SW_SPDT SW1
U 1 1 5E67F978
P 2050 1550
F 0 "SW1" H 2050 1835 50  0000 C CNN
F 1 "SW_SPDT" H 2050 1744 50  0000 C CNN
F 2 "Button_Switch_SMD:SW_SPDT_PCM12" H 2050 1550 50  0001 C CNN
F 3 "~" H 2050 1550 50  0001 C CNN
	1    2050 1550
	1    0    0    -1  
$EndComp
Text Label 1050 1550 0    50   ~ 0
BATT+
Text Label 1050 2100 0    50   ~ 0
BATT-
Text Label 1300 3000 0    50   ~ 0
BATT+
Text Label 1300 3300 0    50   ~ 0
BATT-
$Comp
L Connector_Generic:Conn_01x01 J3
U 1 1 5E69BCEE
P 1850 3000
F 0 "J3" H 1930 3042 50  0000 L CNN
F 1 "Conn_01x01" H 1930 2951 50  0000 L CNN
F 2 "touchled:PinHeader" H 1850 3000 50  0001 C CNN
F 3 "~" H 1850 3000 50  0001 C CNN
	1    1850 3000
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J4
U 1 1 5E69C98F
P 1850 3300
F 0 "J4" H 1930 3342 50  0000 L CNN
F 1 "Conn_01x01" H 1930 3251 50  0000 L CNN
F 2 "touchled:PinHeader" H 1850 3300 50  0001 C CNN
F 3 "~" H 1850 3300 50  0001 C CNN
	1    1850 3300
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J1
U 1 1 5E69CC6D
P 1050 3000
F 0 "J1" H 968 2775 50  0000 C CNN
F 1 "Conn_01x01" H 968 2866 50  0000 C CNN
F 2 "touchled:PinHeader" H 1050 3000 50  0001 C CNN
F 3 "~" H 1050 3000 50  0001 C CNN
	1    1050 3000
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x01 J2
U 1 1 5E69EBC0
P 1050 3300
F 0 "J2" H 968 3075 50  0000 C CNN
F 1 "Conn_01x01" H 968 3166 50  0000 C CNN
F 2 "touchled:PinHeader" H 1050 3300 50  0001 C CNN
F 3 "~" H 1050 3300 50  0001 C CNN
	1    1050 3300
	-1   0    0    1   
$EndComp
Wire Wire Line
	1250 3000 1650 3000
Wire Wire Line
	1250 3300 1650 3300
Connection ~ 9650 2200
Connection ~ 9650 1900
Connection ~ 9650 2700
Connection ~ 9650 2400
Connection ~ 9650 3200
Connection ~ 9650 2900
Connection ~ 9650 3700
Connection ~ 9650 3400
Connection ~ 9650 4200
Connection ~ 9650 3900
Connection ~ 9650 4700
Connection ~ 9650 4400
$Comp
L Device:Q_NMOS_GSD Q1
U 1 1 5E63AFEC
P 1700 2000
F 0 "Q1" V 1949 2000 50  0000 C CNN
F 1 "BSS138L" V 2040 2000 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23_Handsoldering" H 1900 2100 50  0001 C CNN
F 3 "~" H 1700 2000 50  0001 C CNN
	1    1700 2000
	0    -1   1    0   
$EndComp
$EndSCHEMATC
